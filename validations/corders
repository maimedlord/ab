{
  $jsonSchema: {
    bsonType: 'object',
    required: [
      'orderID',
      'dateOpen',
      'dateClose',
      'level',
      'subject',
      'status',
      'contract',
      'changeLog',
      'messageLog'
    ],
    properties: {
      orderID: {
        bsonType: 'string',
        description: 'required: orderID'
      },
      dateOpen: {
        bsonType: 'string',
        description: 'required: dateOpen'
      },
      dateClose: {
        bsonType: 'string',
        description: 'required: dateClose'
      },
      level: {
        bsonType: 'string',
        description: 'required: level',
        pattern: '^high school$|^undergraduate$|^graduate$'
      },
      subject: {
        bsonType: 'string',
        description: 'required: subject',
        pattern: '[a-z ]+'
      },
      status: {
        bsonType: 'string',
        description: 'required: contract status',
        pattern: '^pre_sale$|^negotiating$|^committed$|^disputed$|^finalized$|^backontrack$'
      },
      contract: {
        bsonType: 'object',
        description: 'required: contract',
        required: [
          'type',
          'buyer',
          'seller',
          'finalPrice',
          'commitment',
          'timeline'
        ],
        properties: {
          type: {
            bsonType: 'string',
            description: 'required: contract type',
            pattern: '^sell$|^buy$'
          },
          buyer: {
            bsonType: 'string',
            description: 'required: contract buyer',
            pattern: '^[a-z0-9]{4,24}$'
          },
          seller: {
            bsonType: 'string',
            description: 'required: contract seller',
            pattern: '^^[a-z0-9]{4,24}$'
          },
          finalPrice: {
            bsonType: 'int',
            description: 'required: contract price',
            maximum: 5000,
            minimum: 10
          },
          commitment: {
            bsonType: 'int',
            description: 'required: contract commitment',
            minimum: 0
          },
          timeline: {
            bsonType: 'array',
            description: 'required: contract timeline',
            minItems: 2,
            uniqueItems: true,
            items: {
              bsonType: 'object',
              description: 'required: contract timeline items'
            }
          }
        }
      },
      changeLog: {
        bsonType: 'array',
        description: 'required: changeLog',
        minItems: 1,
        items: {
          bsonType: 'object',
          description: 'required: contract changeLog',
          required: [
            'date',
            'event'
          ],
          properties: {
            date: {
              bsonType: 'string',
              description: 'required: changeLog date'
            },
            event: {
              bsonType: 'string',
              description: 'required: changeLog event'
            }
          }
        }
      },
      messageLog: {
        bsonType: 'array',
        description: 'required: cmessageLogID',
        minItems: 1,
        items: {
          bsonType: 'object',
          description: 'required: contract messageLog',
          required: [
            'date',
            'author',
            'status',
            'seen_by',
            'message'
          ],
          properties: {
            date: {
              bsonType: 'string',
              description: 'required: contract messageLog date'
            },
            author: {
              bsonType: 'string',
              description: 'required: contract messageLog author'
            },
            status: {
              bsonType: 'string',
              description: 'required: contract messageLog status'
            },
            seen_by: {
              bsonType: 'array',
              description: 'required: contract messageLog seen_by',
              minItems: 1,
              items: {
                bsonType: 'object',
                description: 'required: contract messageLog seen_by object',
                required: [
                  'date',
                  'seener'
                ],
                properties: {
                  date: {
                    bsonType: 'string',
                    description: 'required: contract messageLog seen_by date'
                  },
                  seener: {
                    bsonType: 'string',
                    description: 'required: contract messageLog seen_by seener'
                  }
                }
              }
            },
            message: {
              bsonType: 'string',
              description: 'required: contract messageLog message'
            }
          }
        }
      }
    }
  }
}